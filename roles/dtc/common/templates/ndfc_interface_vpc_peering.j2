---
# This NDFC interface vPC Peering config data structure is auto-generated
# DO NOT EDIT MANUALLY
#
#jinja2: trim_blocks: True, lstrip_blocks: False
{% for peers in MD_Extended.fabric.topology.vpc_peers %}
{% for interface in peers['peer1_peerlink_interfaces'] %}
- name : {{ interface['name'] }}
  type: eth
  switch:
{% set switch = MD_Extended.fabric.topology.leaf[peers.peer1] %}
{% if switch.management_ipv4_address is defined %}
    - {{ switch.management_ipv4_address}}
{% elif (switch.management_ipv4_address is not defined) and (switch.management_ipv6_address is defined)  %}
    - {{ switch.management_ipv6_address}}
{% endif %}
  deploy: true
  profile:
    admin_state: True
    mode: 'trunk'
{% endfor %}
{% for interface in peers['peer2_peerlink_interfaces'] %}
- name : {{ interface['name'] }}
  type: eth
  switch:
{% set switch = MD_Extended.fabric.topology.leaf[peers.peer2] %}
{% if switch.management_ipv4_address is defined %}
    - {{ switch.management_ipv4_address}}
{% elif (switch.management_ipv4_address is not defined) and (switch.management_ipv6_address is defined)  %}
    - {{ switch.management_ipv6_address}}
{% endif %}
  deploy: true
  profile:
    admin_state: True
    mode: 'trunk'
{% endfor %}
{% endfor %}
