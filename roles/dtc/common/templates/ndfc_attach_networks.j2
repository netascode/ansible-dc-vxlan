---
# This NDFC inventory is auto-generated
# DO NOT EDIT MANUALLY
#
{% if MD_Extended.fabric.overlay_services.networks is defined %}
{% for network in MD_Extended.fabric.overlay_services.networks %}
- net_name: {{ network['name'] }}
{# ------------------------------------------------------ #}
{# Properties Section #}
{# ------------------------------------------------------ #}
  vrf_name: {{ network['vrf_name'] | default(omit) }}
  is_l2only: {{ network['is_l2_only'] | default(defaults.fabric.overlay_services.networks.is_l2_only) }}
  net_id: {{ network'net_id'] | default(omit) }}
  vlan_id: {{ network'vlan_id'] | default(omit) }}
  vlan_name: {{ network'vlan_name'] | default(omit) }}
  gw_ip_subnet: {{ network'gw_ip_address'] | default(omit) }}
  gw_ipv6_subnet: {{ network'gw_ipv6_address'] | default(omit) }}
  arp_suppress: {{ network'arp_suppress'] | default(defaults.fabric.overlay_services.networks.arp_supress) }}
  int_desc: {{ network'int_desc'] | default(defaults.fabric.overlay_services.networks.net_description) }}
  l3gw_on_border: {{ network'l3gw_on_border'] | default(defaults.fabric.overlay_services.networks.l3gw_on_border) }}
  mtu_l3intf: {{ network'mtu_l3intf'] | default(defaults.fabric.overlay_services.networks.mtu_l3intf) }}
{% if MD.fabric.underlay.general.replication_mode != 'ir' %}
  multicast_group_address: {{ network'multicast_group_address'] | default(defaults.fabric.overlay_services.networks.multicast_group_address) }}
{% endif %}
  netflow_enable: {{ network'netflow_enable'] | default(defaults.fabric.overlay_services.networks.netflow_enable) }}
{% if network'netflow_enable'] is defined and network'netflow_enable'] | bool %}
  vlan_nf_monitor: {{ network'vlan_netflow_monitor'] | default(omit) }}
{% endif %}
  route_target_both: {{ network'route_target_both'] | default(defaults.fabric.overlay_services.networks.route_target_both) }}
  route_tag: {{ network'route_tag'] | default(defaults.fabric.overlay_services.networks.route_tag) }}
  trm_enable: {{ network'trm_enable'] | default(defaults.fabric.overlay_services.networks.trm_enable) }}
{# ------------------------------------------------------ #}
{# Attach Group Section #}
{# ------------------------------------------------------ #}
{% if network'attach_group'] is defined %}
  attach:
{% for attach in MD_Extended.fabric.overlay_services.network_attach_groups_dict[network'attach_group']] %}
    - ip_address: {{ attach['hostname'] }}
      ports: {{ attach['ports'] }}
{% endfor %}
  deploy: false
{% endif %}
{% endfor %}
{% endif %}
