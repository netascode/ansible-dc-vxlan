---
# This NDFC VRFs and switch attachments config data structure is auto-generated
# DO NOT EDIT MANUALLY
#
{% for vrf in MD_Extended.vxlan.overlay_services.vrfs %}
- vrf_name: {{ vrf['name'] }}
{# ------------------------------------------------------ #}
{# Properties Section #}
{# ------------------------------------------------------ #}
  vrf_id: {{ vrf['vrf_id'] | default(omit) }}
  vlan_id: {{ vrf['vlan_id'] | default(omit) }}
  vrf_vlan_name: {{ vrf['vrf_vlan_name'] | default(omit) }}
  vrf_intf_desc: {{ vrf['vrf_intf_desc'] | default(defaults.vxlan.overlay_services.vrfs.vrf_description) }}
  vrf_int_mtu: {{ vrf['vrf_int_mtu'] | default(defaults.vxlan.overlay_services.vrfs.vrf_int_mtu) }}
  loopback_route_tag: {{ vrf['loopback_route_tag'] | default(defaults.vxlan.overlay_services.vrfs.loopback_route_tag) }}
  max_bgp_paths: {{ vrf['max_bgp_paths'] | default(defaults.vxlan.overlay_services.vrfs.max_bgp_paths) }}
  max_ibgp_paths: {{ vrf['max_ibgp_paths'] | default(defaults.vxlan.overlay_services.vrfs.max_ibgp_paths) }}
  ipv6_linklocal_enable: {{ vrf['ipv6_linklocal_enable'] | default(defaults.vxlan.overlay_services.vrfs.ipv6_linklocal_enable) }}
  adv_host_routes: {{ vrf['adv_host_routes'] | default(defaults.vxlan.overlay_services.vrfs.adv_host_routes) }}
  adv_default_routes: {{ vrf['adv_default_routes'] | default(defaults.vxlan.overlay_services.vrfs.adv_default_routes) }}
  static_default_route: {{ vrf['static_default_route'] | default(defaults.vxlan.overlay_services.vrfs.static_default_route) }}
  bgp_password: {{ vrf['bgp_password'] | default(omit) }}
  bgp_password_encryption_type: {{ vrf['bgp_password_encryption_type'] | default(omit) }}
  disable_rt_auto: {{ vrf['disable_rt_auto'] | default(defaults.vxlan.overlay_services.vrfs.disable_rt_auto) }}
  export_evpn_rt: {{ vrf['export_evpn_rt'] | default(omit) }}
  export_mvpn_rt: {{ vrf['export_mvpn_rt'] | default(omit) }}
  export_vpn_rt: {{ vrf['export_vpn_rt'] | default(omit) }}
  import_evpn_rt: {{ vrf['import_evpn_rt'] | default(omit) }}
  import_mvpn_rt: {{ vrf['import_mvpn_rt'] | default(omit) }}
  import_vpn_rt: {{ vrf['import_vpn_rt'] | default(omit) }}
  netflow_enable: {{ vrf['netflow_enable'] | default(defaults.vxlan.overlay_services.vrfs.netflow_enable) }}
{% if vrf['netflow_enable'] is defined and vrf['netflow_enable'] | bool %}
  netflow_monitor: {{ vrf['netflow_monitor'] }}
{% endif %}
  no_rp: {{ vrf['no_rp'] | default(defaults.vxlan.overlay_services.vrfs.no_rp) }}
  trm_enable: {{ vrf['trm_enable'] | default(defaults.vxlan.overlay_services.vrfs.trm_enable) }}
{% if vrf['trm_enable'] is defined and vrf['trm_enable'] | bool %}
  overlay_mcast_group: {{ vrf['overlay_multicast_group'] | default(omit) }}
  rp_address: {{ vrf['rp_address'] | default(omit) }}
  rp_external: {{ vrf['rp_external'] | default(omit) }}
  rp_loopback_id: {{ vrf['rp_loopback_id'] | default(omit) }}
  trm_bgw_msite: {{ vrf['trm_bgw_msite'] | default(defaults.vxlan.overlay_services.vrfs.trm_bgw_msite) }}
  underlay_mcast_ip: {{ vrf['underlay_mcast_ip'] | default(omit) }}
{% endif %}
  redist_direct_rmap: {{ vrf['redist_direct_routemap'] | default(defaults.vxlan.overlay_services.vrfs.redist_direct_routemap) }}
{# ------------------------------------------------------ #}
{# Attach Group Section #}
{# ------------------------------------------------------ #}
{% if vrf['attach_group'] is defined %}
  attach:
{% for attach in MD_Extended.vxlan.overlay_services.vrf_attach_groups_dict[vrf['attach_group']] %}
    - ip_address: {{ attach['hostname'] }}
{% endfor %}
  deploy: false
{% endif %}

{% endfor %}