{# Auto-generated NDFC DC VXLAN EVPN Advanced config data structure for fabric {{ vxlan.global.name }} #}
  OVERLAY_MODE: cli
  GRFIELD_DEBUG_FLAG: Enable
  ENABLE_PVLAN: false
  AAA_REMOTE_IP_ENABLED: False
  FEATURE_PTP: {{ global.ptp.ptp_enable | default(defaults.vxlan.global.ptp.ptp_enable) }}
{% if global.ptp.ptp_enable is defined and global.ptp.ptp_enable == 'true' %}
  PTP_DOMAIN_ID: {{ global.ptp.ptp_domain_id | default(defaults.vxlan.global.ptp_domain_id) }}
  PTP_LB_ID: {{ global.ptp.ptp_lb_id | default(defaults.vxlan.global.ptp.ptp_lb_id) }}
  PTP_VLAN_ID: {{ global.ptp.ptp_vlan_id }}
{% endif %}
  ENABLE_NXAPI: {{ global.enable_nxapi | default(defaults.vxlan.global.enable_nxapi) }}
  ENABLE_NXAPI_HTTP: {{ global.enable_nxapi_http | default(defaults.vxlan.global.enable_nxapi_http ) }}
  FABRIC_MTU: {{ vxlan.underlay.general.intra_fabric_interface_mtu | default(defaults.vxlan.underlay.general.intra_fabric_interface_mtu) }}
  L2_HOST_INTF_MTU: {{ vxlan.underlay.general.layer2_host_interfacde_mtu | default(defaults.vxlan.underlay.general.layer2_host_interfacde_mtu) }}
  HOST_INTF_ADMIN_STATE: {{ vxlan.underlay.general.unshut_host_interfaces | default(defaults.vxlan.underlay.general.unshut_host_interfaces) }}
{% if ndfc_version | cisco.nac_dc_vxlan.version_compare('12.2.2', '>=') %}
  STP_ROOT_OPTION: {{ global.spanning_tree.root_bridge_protocol | default(defaults.vxlan.global.spanning_tree.root_bridge_protocol) }}
{% if global.spanning_tree.root_bridge_protocol is defined and global.spanning_tree.root_bridge_protocol != 'unmanaged' %}
{% if (global.spanning_tree.root_bridge_protocol | default(defaults.vxlan.global.spanning_tree.root_bridge_protocol)) == 'rpvst+' %}
  STP_VLAN_RANGE: {{ ndfc_utils.convert_ranges(global.spanning_tree.vlan_range, defaults.vxlan.global.spanning_tree.vlan_range) }}
{% elif (global.spanning_tree.root_bridge_protocol | default(defaults.vxlan.global.spanning_tree.root_bridge_protocol)) == 'mst' %}
  MST_INSTANCE_RANGE: {{ ndfc_utils.convert_ranges(global.spanning_tree.mst_instance_range, defaults.vxlan.global.spanning_tree.mst_instance_range) }}
{% endif %}
  STP_BRIDGE_PRIORITY: {{ global.spanning_tree.bridge_priority | default(defaults.vxlan.global.spanning_tree.bridge_priority) }}
{% endif %}
{% endif %}