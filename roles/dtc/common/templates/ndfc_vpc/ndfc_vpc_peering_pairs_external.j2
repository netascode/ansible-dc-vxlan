---
# This NDFC vPC Peering config data structure for vPC pairs is auto-generated
# DO NOT EDIT MANUALLY
#
{% if MD_Extended.vxlan.topology.vpc_peers is defined and MD_Extended.vxlan.topology.vpc_peers is not none %}
{% for vpc_peers_pair in MD_Extended.vxlan.topology.vpc_peers %}
- peerOneId: {{ vpc_peers_pair.peer1_mgmt_ip_address }}
  peerTwoId: {{ vpc_peers_pair.peer2_mgmt_ip_address }}
  templateName: "vpc_pair"
  profile:
    ADMIN_STATE: {{ vpc_peers_pair.enabled }}
    ALLOWED_VLANS: "{{ vpc_peers_pair.trunk_allowed_vlans }}"
    DOMAIN_ID: {{ vpc_peers_pair.domain_id }}
    FABRIC_NAME: {{ MD_Extended.vxlan.fabric.name }}
    KEEP_ALIVE_HOLD_TIMEOUT: {{ vpc_peers_pair.keepalive_holdout_time | default(defaults.vxlan.topology.vpc_peers.keepalive_holdout_time) }}
    KEEP_ALIVE_VRF: {{ vpc_peers_pair.keepalive_vrfname }}
    PC_MODE: {{ vpc_peers_pair.port_channel_mode | default(defaults.vxlan.topology.vpc_peers.port_channel_mode) }}
    PEER1_DOMAIN_CONF: "{{ vpc_peers_pair.peer1_domain_conf | default('') }}"
    PEER1_KEEP_ALIVE_LOCAL_IP: {{ vpc_peers_pair.peer1_keepalive_ipv4 }}
    PEER1_PO_CONF: "{{ vpc_peers_pair.peer1_po_channel_conf | default('') }}"
    PEER1_PO_DESC: "{{ vpc_peers_pair.peer1_po_channel_desc | default('') }}"
    PEER2_DOMAIN_CONF: "{{ vpc_peers_pair.peer2_domain_conf | default('') }}"
    PEER2_KEEP_ALIVE_LOCAL_IP: {{ vpc_peers_pair.peer2_keepalive_ipv4 }}
    PEER2_PO_CONF: "{{ vpc_peers_pair.peer2_po_channel_conf | default('') }}"
    PEER2_PO_DESC: "{{ vpc_peers_pair.peer2_po_channel_desc | default('') }}"
    PEER1_PCID: {{ vpc_peers_pair.peer1_port_channel_id | default(defaults.vxlan.topology.vpc_peers.peer1_port_channel_id) }}
    PEER2_PCID: {{ vpc_peers_pair.peer2_port_channel_id | default(defaults.vxlan.topology.vpc_peers.peer2_port_channel_id) }}
    PEER1_MEMBER_INTERFACES: "{{ vpc_peers_pair.peer1_member_interfaces | default('') }}"
    PEER2_MEMBER_INTERFACES: "{{ vpc_peers_pair.peer1_member_interfaces | default('') }}"
{% endfor %}
{% endif %}
