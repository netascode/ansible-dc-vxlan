# This NDFC vPC peer-link interface config data structure is auto-generated
# DO NOT EDIT MANUALLY
#

{% for item in interface_not_vpc_peering %}
{% set switch_serial_number = item.interfaces[0].serialNumber %}
{% set query = "[?(@.serial_number==`" ~ switch_serial_number ~ "`)].management" %}
{% set switch_management = (MD.fabric.topology.switches | community.general.json_query(query))[0] %}
- name: {{ item.interfaces[0].ifName }}
  type: eth
  switch: 
{% if switch_management.management_ipv4_address is defined %}
    - {{ switch_management.management_ipv4_address}}
{% elif (switch_management.management_ipv4_address is not defined) and (switch_management.management_ipv6_address is defined)  %}
    - {{ switch_management.management_ipv6_address}}
{% endif %}
  profile:
    admin_state: true
    mode: trunk
{% endfor %}
